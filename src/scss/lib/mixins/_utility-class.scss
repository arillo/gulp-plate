//============================================
// Utility Class
//============================================

// Create utility classes from a Sass map.

@mixin utility-class($config) {
  $name: map-get($config, 'name');
  $prop: map-get($config, 'prop');
  $mqs: map-get($config, 'mqs');
  $variants: map-get($config, 'variants');

  @include utility-class-helper($name, $prop, $variants);

  @if $mqs {
    @each $mq-name, $mq in $mqs {
      @include utility-class-helper($name, $prop, $variants, $mq, $mq-name);
    }
  }
}

// Render helper mixin
@mixin utility-class-helper(
  $name,
  $prop,
  $variants,
  $mq: false,
  $mq-name: false
) {
  $mq-name: if($mq-name, '#{\@}#{$mq-name}', '');

  @include mq($mq) {
    @each $key, $val in $variants {
      .u-#{$name}-#{$key}#{$mq-name} {
        #{$prop}: #{$val};
      }
    }
  }
}
